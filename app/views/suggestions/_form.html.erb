<% action_url = action_type == :new ? suggestions_url : suggestion_url(suggestion) %>
<% message = action_type == :new ? "Create Action" : "Edit Action" %>

<form class="" action="<%= action_url %>" method="post">
  <%= form_auth_token %>

  <% if action_type == :edit %>
    <input type="hidden" name="_method" value="patch">
  <% end %>

  <label for="event_title">Title: </label>
  <input id="event_title" type="text" name="suggestion[title]" value="<%= suggestion.title %>" placeholder="Title">
  <br>

  <label for="description">Description: </label>
  <br>
  <textarea id="description" name="suggestion[description]" placeholder="Description"><%= suggestion.description %></textarea>
  <br>

  <label for="categories">Categories: </label>
  <input type="hidden" name="suggestion[category_ids][]" value="">
  <br>

  <% Category.all.each do |category| %>
    <input id="category_<%= category.name %>" type="checkbox" name="suggestion[category_ids][]"
    value="<%= category.id %>" <%= "checked" if suggestion.category_ids.include?(category.id) %>>
    <label for="category_<%= category.name %>"><%= category.name %></label>
    <br>
  <% end %>

  <input type="submit" name="" value="<%= message %>">
</form>
